EESchema Schematic File Version 4
LIBS:saber-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 2 6
Title ""
Date ""
Rev "1"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 "Marion Anderson"
$EndDescr
Text HLabel 4850 4900 0    50   BiDi ~ 0
SDA
Text HLabel 4850 4800 0    50   Output ~ 0
SCL
Text HLabel 6050 3900 2    50   Output ~ 0
PWM_MTR_MCU
Text HLabel 6050 3800 2    50   Input ~ 0
ADC_imtr
Text HLabel 6050 4300 2    50   Output ~ 0
SIG_LED_MCU
$Comp
L power:+3V3 #PWR?
U 1 1 608E4D1E
P 5500 3100
AR Path="/608E4D1E" Ref="#PWR?"  Part="1" 
AR Path="/608DACE2/608E4D1E" Ref="#PWR011"  Part="1" 
F 0 "#PWR011" H 5500 2950 50  0001 C CNN
F 1 "+3V3" H 5515 3273 50  0000 C CNN
F 2 "" H 5500 3100 50  0001 C CNN
F 3 "" H 5500 3100 50  0001 C CNN
	1    5500 3100
	-1   0    0    -1  
$EndComp
Connection ~ 5500 3150
Wire Wire Line
	5500 3100 5500 3150
$Comp
L power:GND #PWR?
U 1 1 608E4D2A
P 5450 5200
AR Path="/608E4D2A" Ref="#PWR?"  Part="1" 
AR Path="/608DACE2/608E4D2A" Ref="#PWR020"  Part="1" 
F 0 "#PWR020" H 5450 4950 50  0001 C CNN
F 1 "GND" H 5455 5027 50  0000 C CNN
F 2 "" H 5450 5200 50  0001 C CNN
F 3 "" H 5450 5200 50  0001 C CNN
	1    5450 5200
	-1   0    0    -1  
$EndComp
Wire Wire Line
	5450 5200 5450 5150
Wire Wire Line
	4850 3400 4900 3400
$Comp
L Device:LED D1
U 1 1 60917D5B
P 10500 4350
F 0 "D1" V 10538 4233 50  0000 R CNN
F 1 "150060VS75020" V 10447 4233 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 10500 4350 50  0001 C CNN
F 3 "https://www.we-online.de/katalog/datasheet/150060VS75000.pdf" H 10500 4350 50  0001 C CNN
	1    10500 4350
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R6
U 1 1 60917E65
P 10500 4000
F 0 "R6" H 10430 3954 50  0000 R CNN
F 1 "1k" H 10430 4045 50  0000 R CNN
F 2 "Resistor_SMD:R_0603_1608Metric_Pad1.05x0.95mm_HandSolder" V 10430 4000 50  0001 C CNN
F 3 "~" H 10500 4000 50  0001 C CNN
	1    10500 4000
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR019
U 1 1 60918518
P 10500 4550
F 0 "#PWR019" H 10500 4300 50  0001 C CNN
F 1 "GND" H 10505 4377 50  0000 C CNN
F 2 "" H 10500 4550 50  0001 C CNN
F 3 "" H 10500 4550 50  0001 C CNN
	1    10500 4550
	1    0    0    -1  
$EndComp
Text HLabel 6050 3700 2    50   Output ~ 0
INA_MCU
Text HLabel 6050 4000 2    50   Output ~ 0
INB_MCU
Wire Wire Line
	4850 3600 4900 3600
Wire Wire Line
	7400 3100 7350 3100
Text Notes 7650 5750 0    50   ~ 0
VDDA (Pin 5) - 1u + 100n cap (C19+C18)\nVSS (Pin 1)  - 10u + 100n cap (C3+C4)\nVSS (Pin 17) - 100n (C5)\nNRST (pin 4) - Cap for AN4467 p30 (C2)
Wire Wire Line
	6050 4300 6000 4300
Text Notes 5400 2800 0    50   ~ 0
Micro
Text Notes 8500 2800 0    50   ~ 0
MCU Support Circuitry
Wire Wire Line
	10500 4500 10500 4550
Text Notes 4800 5800 0    50   ~ 0
All pinnames should match in .ioc \nBTN internal pulldown\nPWM_SPKR,SIG_LED,SIG_SOL Push-Pull\nMCU uses internal pu for i2c
$Comp
L power:+3V3 #PWR?
U 1 1 60AB40F6
P 1550 4150
AR Path="/60AB40F6" Ref="#PWR?"  Part="1" 
AR Path="/608DACE2/60AB40F6" Ref="#PWR013"  Part="1" 
F 0 "#PWR013" H 1550 4000 50  0001 C CNN
F 1 "+3V3" H 1565 4323 50  0000 C CNN
F 2 "" H 1550 4150 50  0001 C CNN
F 3 "" H 1550 4150 50  0001 C CNN
	1    1550 4150
	1    0    0    -1  
$EndComp
Text Label 1550 4300 2    50   ~ 0
SWCLK
Text Label 2450 4400 0    50   ~ 0
SWDIO
Wire Wire Line
	2450 4400 2300 4400
Text Label 2450 4300 0    50   ~ 0
NRST
Wire Wire Line
	2450 4300 2300 4300
$Comp
L power:GND #PWR?
U 1 1 60AB4102
P 1550 4450
AR Path="/60AB4102" Ref="#PWR?"  Part="1" 
AR Path="/608DACE2/60AB4102" Ref="#PWR015"  Part="1" 
F 0 "#PWR015" H 1550 4200 50  0001 C CNN
F 1 "GND" H 1555 4277 50  0000 C CNN
F 2 "" H 1550 4450 50  0001 C CNN
F 3 "" H 1550 4450 50  0001 C CNN
	1    1550 4450
	1    0    0    -1  
$EndComp
Wire Wire Line
	1550 4400 1550 4450
Wire Wire Line
	1550 4200 1550 4150
Text Notes 1250 5700 0    50   ~ 0
pinout for 144pin nucleo user manual, p19\nsymbol docs link to said user manual
Text Notes 1700 2800 0    50   ~ 0
Debug Header
Wire Wire Line
	10500 4150 10500 4200
Text Label 4850 3400 2    50   ~ 0
NRST
Text Label 6050 4700 0    50   ~ 0
SWDIO
Wire Wire Line
	6050 4700 6000 4700
Text Label 6050 4800 0    50   ~ 0
SWCLK
Wire Wire Line
	6050 4800 6000 4800
Wire Wire Line
	6000 4200 6050 4200
Text HLabel 6050 4200 2    50   Output ~ 0
SIG_SOL_MCU
Text HLabel 7400 3100 2    50   Input ~ 0
BTN
$Comp
L Device:C C4
U 1 1 608E50E9
P 8850 4200
F 0 "C4" H 8965 4246 50  0000 L CNN
F 1 "100n" H 8965 4155 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 8888 4050 50  0001 C CNN
F 3 "~" H 8850 4200 50  0001 C CNN
	1    8850 4200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C3
U 1 1 608E72C8
P 8450 4200
F 0 "C3" H 8565 4246 50  0000 L CNN
F 1 "10u" H 8565 4155 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 8488 4050 50  0001 C CNN
F 3 "~" H 8450 4200 50  0001 C CNN
	1    8450 4200
	1    0    0    -1  
$EndComp
Text HLabel 4850 4600 0    50   Input ~ 0
ENC_A
Text HLabel 4850 4700 0    50   Input ~ 0
ENC_B
Text Label 4550 3300 2    50   ~ 0
LED_HBEAT
Wire Wire Line
	4550 3300 4600 3300
Text HLabel 4050 3750 0    50   Output ~ 0
PWM_SPKR_MCU
$Comp
L Device:C C5
U 1 1 608E528F
P 9250 4200
F 0 "C5" H 9365 4246 50  0000 L CNN
F 1 "100n" H 9365 4155 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9288 4050 50  0001 C CNN
F 3 "~" H 9250 4200 50  0001 C CNN
	1    9250 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	9250 4400 9250 4350
Wire Wire Line
	8850 4350 8850 4400
Wire Wire Line
	8450 4350 8450 4400
Wire Wire Line
	8850 4050 8850 4000
Wire Wire Line
	9250 4000 9250 4050
Wire Wire Line
	9250 4000 9250 3950
$Comp
L power:+3V3 #PWR014
U 1 1 60920C30
P 9250 3950
F 0 "#PWR014" H 9250 3800 50  0001 C CNN
F 1 "+3V3" H 9265 4123 50  0000 C CNN
F 2 "" H 9250 3950 50  0001 C CNN
F 3 "" H 9250 3950 50  0001 C CNN
	1    9250 3950
	1    0    0    -1  
$EndComp
Wire Wire Line
	8450 4050 8450 4000
Text Label 7400 3950 2    50   ~ 0
NRST
$Comp
L Device:C C2
U 1 1 6092D499
P 7450 4400
F 0 "C2" H 7565 4446 50  0000 L CNN
F 1 "100n" H 7565 4355 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 7488 4250 50  0001 C CNN
F 3 "~" H 7450 4400 50  0001 C CNN
	1    7450 4400
	1    0    0    -1  
$EndComp
$Comp
L Switch:SW_Push SW1
U 1 1 60933504
P 7850 4200
F 0 "SW1" V 7804 4348 50  0000 L CNN
F 1 "SW" V 7895 4348 50  0000 L CNN
F 2 "Button_Switch_SMD:SW_SPST_TL3342" H 7850 4400 50  0001 C CNN
F 3 "" H 7850 4400 50  0001 C CNN
	1    7850 4200
	0    1    1    0   
$EndComp
$Comp
L power:+3V3 #PWR012
U 1 1 60934F7D
P 7650 3900
F 0 "#PWR012" H 7650 3750 50  0001 C CNN
F 1 "+3V3" H 7665 4073 50  0000 C CNN
F 2 "" H 7650 3900 50  0001 C CNN
F 3 "" H 7650 3900 50  0001 C CNN
	1    7650 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	7850 3950 7850 4000
Wire Wire Line
	7450 4800 7650 4800
Wire Wire Line
	7400 3950 7450 3950
Connection ~ 7450 3950
Wire Wire Line
	7650 4800 7650 4850
Connection ~ 7650 4800
Wire Wire Line
	7650 4800 7850 4800
$Comp
L power:GND #PWR018
U 1 1 60944438
P 7650 4850
F 0 "#PWR018" H 7650 4600 50  0001 C CNN
F 1 "GND" H 7655 4677 50  0000 C CNN
F 2 "" H 7650 4850 50  0001 C CNN
F 3 "" H 7650 4850 50  0001 C CNN
	1    7650 4850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR017
U 1 1 6094719A
P 9250 4450
F 0 "#PWR017" H 9250 4200 50  0001 C CNN
F 1 "GND" H 9255 4277 50  0000 C CNN
F 2 "" H 9250 4450 50  0001 C CNN
F 3 "" H 9250 4450 50  0001 C CNN
	1    9250 4450
	1    0    0    -1  
$EndComp
Wire Wire Line
	9250 4450 9250 4400
Text Label 10500 3800 1    50   ~ 0
LED_HBEAT
Wire Wire Line
	10500 3800 10500 3850
Wire Wire Line
	7450 3950 7650 3950
Wire Wire Line
	7650 3900 7650 3950
Connection ~ 7650 3950
Wire Wire Line
	7650 3950 7850 3950
$Comp
L Connector_Generic:Conn_02x03_Counter_Clockwise J4
U 1 1 609FEADF
P 2000 4300
F 0 "J4" H 2050 4617 50  0000 C CNN
F 1 "NUCLEO144ZE-STLINK" H 2050 4526 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_2x03_P2.54mm_Vertical_SMD" H 2000 4300 50  0001 C CNN
F 3 "~" H 2000 4300 50  0001 C CNN
	1    2000 4300
	1    0    0    -1  
$EndComp
Wire Wire Line
	1550 4200 1800 4200
Wire Wire Line
	1550 4300 1800 4300
Wire Wire Line
	1550 4400 1800 4400
NoConn ~ 2300 4200
$Comp
L MCU_ST_STM32L0:STM32L051K8Tx U1
U 1 1 609F0641
P 5500 4100
F 0 "U1" H 5700 5050 50  0000 C CNN
F 1 "STM32L051K8Tx" H 5950 4950 50  0000 C CNN
F 2 "Package_QFP:LQFP-32_7x7mm_P0.8mm" H 5000 3200 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00108219.pdf" H 5500 4100 50  0001 C CNN
	1    5500 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	5400 3150 5400 3200
Wire Wire Line
	5400 3150 5500 3150
Wire Wire Line
	5500 3150 5500 3200
Wire Wire Line
	5600 3150 5600 3200
Wire Wire Line
	5500 3150 5600 3150
Wire Wire Line
	5400 5100 5400 5150
Wire Wire Line
	5400 5150 5450 5150
Wire Wire Line
	5500 5150 5500 5100
Connection ~ 5450 5150
$Comp
L Device:C C18
U 1 1 60A1E12E
P 9650 4200
F 0 "C18" H 9765 4246 50  0000 L CNN
F 1 "100n" H 9765 4155 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9688 4050 50  0001 C CNN
F 3 "~" H 9650 4200 50  0001 C CNN
	1    9650 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	9650 4400 9650 4350
Connection ~ 9250 4400
Wire Wire Line
	9650 4000 9650 4050
Connection ~ 9250 4000
Wire Wire Line
	8850 4400 9250 4400
Wire Wire Line
	8850 4000 9250 4000
$Comp
L Device:C C19
U 1 1 60A26F05
P 10100 4200
F 0 "C19" H 10215 4246 50  0000 L CNN
F 1 "1u" H 10215 4155 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 10138 4050 50  0001 C CNN
F 3 "~" H 10100 4200 50  0001 C CNN
	1    10100 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	9650 4400 10100 4400
Wire Wire Line
	10100 4400 10100 4350
Connection ~ 9650 4400
Wire Wire Line
	9650 4000 10100 4000
Wire Wire Line
	10100 4000 10100 4050
Connection ~ 9650 4000
Wire Wire Line
	5450 5150 5500 5150
$Comp
L power:GND #PWR0102
U 1 1 60A36F08
P 4850 3650
F 0 "#PWR0102" H 4850 3400 50  0001 C CNN
F 1 "GND" H 4855 3477 50  0000 C CNN
F 2 "" H 4850 3650 50  0001 C CNN
F 3 "" H 4850 3650 50  0001 C CNN
	1    4850 3650
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 3600 4850 3650
Connection ~ 8850 4400
Wire Wire Line
	9250 4400 9650 4400
Wire Wire Line
	9250 4000 9650 4000
Wire Wire Line
	8450 4400 8850 4400
Wire Wire Line
	8450 4000 8850 4000
Connection ~ 8850 4000
Wire Wire Line
	4850 4600 4900 4600
Wire Wire Line
	4850 4700 4900 4700
Wire Wire Line
	4850 4800 4900 4800
Wire Wire Line
	4850 4900 4900 4900
Wire Wire Line
	6000 4000 6050 4000
Wire Wire Line
	6000 3900 6050 3900
Wire Wire Line
	6000 3800 6050 3800
Wire Wire Line
	6000 3700 6050 3700
$Comp
L Device:R R7
U 1 1 60B2786D
P 7850 4600
F 0 "R7" H 7920 4646 50  0000 L CNN
F 1 "1k" H 7920 4555 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric_Pad1.05x0.95mm_HandSolder" V 7780 4600 50  0001 C CNN
F 3 "~" H 7850 4600 50  0001 C CNN
	1    7850 4600
	1    0    0    -1  
$EndComp
Wire Wire Line
	7850 4750 7850 4800
Wire Wire Line
	7850 4400 7850 4450
Wire Wire Line
	7450 4550 7450 4800
Wire Wire Line
	7450 3950 7450 4250
$EndSCHEMATC
